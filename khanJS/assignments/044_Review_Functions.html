<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Review: Functions</title>
		<link type="text/css" rel="stylesheet" href="../../css/khanStyle.css">
		<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	</head>
	<body>
		<h1><i class="fa fa-file-text-o fa-3x"></i> 
			Review: Functions<br>
			回顾-函数
		</h1>
		
		<p class="objective"><em>
			This is a review of what we covered in this tutorial on functions.<br>
			这是对之前函数部分内容的回顾。
		</em></p>
		
		<p class="objective">
			We often want to be able to re-execute blocks of code when we are writing programs, without having to re-write the block of code entirely. We need a way of grouping code together and giving it a name, so that we can call it by that name later, and that's what we call a function.<br>
			我们在编程时，为了省去重写整个代码块之苦，为了能重复执行代码，我们需要一个整合代码并给它命名的方法，方便在今后需要时调用它——这就是函数。
		</p>
		
		<p class="objective">
			To create a function, we must first declare it and give it a name, the same way we'd create any variable, and then we follow it by a function definition:<br>
			在创建函数前，我们必须先声明它，并给它命名——这也是我们创建变量的方法；接下来，我们会定义该函数。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”
		
	var sayHello = function() {

};
		</pre>
		
		<p class ="objective">
			We could put any code inside that function - one statement, multiple statements - depends what we want to do. In this function, we could just output a message at a random location:<br>
			我们可以在该函数中嵌入任意代码——一条语句或是多条语句——这取决于我们想做什么。在该函数中，我们只能在随机位置输出一条信息：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”
// “Halllllllo” -&gt; 你好!
		
var sayHello = function() {
   text("Halllllllo!", random(200), random(200));
};
		</pre>

		<p class ="objective">
			Now, if all we do is declare the function, nothing will happen. In order for the program to execute the code that's inside the function, we actually have to "call" the function, by writing its name followed by empty parenthesis:<br>
			现在，如果我们只是声明函数，那什么也不会发生。为使程序能执行函数中的代码，我们必须通过在空括号内写入函数称来“调用”该函数。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”

sayHello();
		</pre>
		
		<p class="objective">
			And then we could call it whenever we wanted, as many times as we wanted!<br>
			然后，我们就能随时调用该函数了，想调用几次就用几次！
		</p>
				
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”

sayHello();
sayHello();
sayHello();
		</pre>
		
		<p class="objective">
			We often want to be able to customize functions, to tell the program "well, do all of this code, but change a few things about how you do it." That way we have code that is both reusable *and* flexible, the best of both worlds. We can achieve that by specifying "arguments" for a function, using those arguments to change how the function works, and passing them in when we call the function.<br>
			我们通常想要设定个性化的函数，告诉程序；“嘿，执行这些代码，但请稍稍改变下你的执行方式。”幸亏我们的代码都是兼具重复使用性和高灵活度的。我们可以通过为函数指定“参数”来达到目标——使用参数来改变函数的运作方式，并在调用它时进行传值。
		</p>
			
		<p class ="objective">
			For example, what if we wanted to be able to say exactly where we want the message displayed, just like we can say exactly where we want to draw rect()s and ellipse()s? We could imagine calling it like so, to put the message at two precise coordinates:<br>
			例如，假设我们想要准确指定信息出现的位置，就像我们绘制矩形或椭圆位置时想要准确指定它们的位置时，应该怎么做呢？我们可以试想能否如此调用它，在两个准确的坐标处输入信息：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”
		
sayHello(50, 100);
sayHello(150, 200);
		</pre>
		
		<p class ="objective">
			To make that work, we need to change our sayHello function definition so it knows that it will receive 2 arguments, and then uses them inside:<br>
			要达到这个目标，我们需要改变“sayHello”(说你好)那条函数的定义，这样，它就能接受两个参数，并在函数内使用它们了：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”
// “Halllllllo” -&gt; 你好！

var sayHello = function(xPos, yPos) {
   text("Halllllllo!", xPos, yPos);
};
		</pre>
		
		<p class="objective">	
			The arguments that get passed in basically become like variables inside your function definition, and the names depend on what you call them in the parentheses. We could just as easily rename them to something shorter:<br>
			在你的函数定义内，进行传值的这些参数基本上就像是变量，而你在括号内的描述就是它们的名称。我们可以轻而易举地给它们改个更短的名字：
		</p>
		
		<pre class="prettyprint">		
// sayHello -&gt; 说“你好”
// “Halllllllo” -&gt; 你好！
		
var sayHello = function(x, y) {
   text("Halllllllo!", x, y);
};
		</pre>
		
		<p class="objective">
			Our functions can accept any number of arguments - zero, one, two, or more. We could have also decided that we wanted to change our function to accept a name to say hello to:<br>
			函数可接受任何参数值——0，1，2等等。我们也能修改函数，使它能说出人的名字。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 说“你好”
// “Halllllllo” -&gt; 你好！
		
var sayHello = function(name) {
   text("Halllllllo, " + name, random(200), random(200));
};
		</pre>
		
		<p class="objective">
			And then we would have called it like so:<br>
			然后我们需要这样调用它：
		</p>
		
		<pre class="prettyprint">	
// 他們是 "Winston" 和 "Pamela"
		
sayHello("Winston");
sayHello("Pamela");
		</pre>
		
		<p class="objective">	
			We could combine those ideas, and have it accept three arguments, for the name and position:<br>
			把这些想法结合起来就是，为了说出名字及确定名字的摆放位置，该函数需要能接受三个参数。
		</p>
		
		<pre class="prettyprint">	
// sayHello -&gt; 说“你好”
// “Halllllllo” -&gt; 你好！
		
var sayHello = function(name, x, y) {
   text("Halllllllo " + name, x, y);
};
		</pre>
		
		<p class="objective">	
			And then call it like so:<br>
			接下来我们这样调用它：
		</p>
		
		<pre class="prettyprint">	
// sayHello -&gt; 说“你好”
// 他是 "Winston"
		
sayHello("Winston", 10, 100);
		</pre>
		
		<p class="objective">
			It really depends on what you want your functions to do, and how much you want to customize what they can do. You can always start off with no arguments, and then add more as you realize you need them.<br>
			这真的取决于你想要函数做什么，及想要它们如何个性化。没有参数你也可以执行程序，然后在需要的时候添加进去即可。
		</p>
				
		<p class="objective">
			Now, you've actually been calling functions this whole time- that's how you've been making drawing and animations - like with rect, ellipse, triangle, etc. All of those functions are ones that come from the ProcessingJS library, and we load them into every program that you make here, so that you can always use them. We've defined the functions for you, because we thought they'd be useful, and now it's up to you to decide what custom functions you want to use in your own programs. For example, we provide the ellipse function, but we don't provide a cat function - if your program involves a lot of different cats in different locations, maybe you should create your own cat function!<br>
			到目前为止，你一直在调用函数——这也是你绘制图片与动画的方式——比如，画矩形，椭圆，三角，等等。以上这些函数都来自Processing. js资料库，我们已将它们上载至你们在这里制作的每个程序中，这样你就能随时使用它们。我们已经为大家定义了一些有用的函数，大家使用的时候也可根据程序需要自定义其他的函数。例如，我们提供了椭圆函数，但我们没有猫咪函数——如果你的程序需要在许多不同位置放置猫咪，那你就得自己创建一个猫咪函数。
		</p>
				
		<p class="objective">
			There's another powerful thing we can do with functions - we can use them to take in some values, compute them, and return a new value. Think about all the things you can do with a calculator - add values, subtract, calculate square root, multiply, etc. All of those would be done with functions that took in the input and outputted the result. The functions would take in the input as arguments and output the result using a return statement. Here's a function that adds two numbers and returns the result:<br>
			借助函数，我们还能做一件非常强大的事，那就是——取值，计算，并返回新值。想想一个计算器的功能，它可以做加法、减法、算平方根、乘法等等。所有这些都能借助函数轻而易举地完成，因为函数能接收输入值，并返回输出值。函数会将输入值作为参数接收，并使用返回语句输出结果。下面就是一个将两数字相加并返回结果的函数：
		</p>
		
		<pre class="prettyprint">	
// addNumbers -&gt; 数值相加
		
var addNumbers = function(num1, num2) {
  var result = num1 + num2;
  return result;
};

var sum = addNumbers(5, 2);
text(sum, 200, 200); // Displays "7" 显示数字“7”
		</pre>
		
		<p class="objective">
			The <em>return statement</em> does two things: it gives a value back to whoever called it (which is why we could store it in the sum variable), and it immediately exits the function. That means it'd be silly if we had something like this, because that last line would never get executed:<br>
			<em>返回语句</em>有两个作用：调用它时返回值（这就是我们能在总和变量中存储它的原因），其后便马上退出函数。如果我们这样写语句那还真是笨到家了，因为最后一行永远不会被执行：
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 数值相加		
		
var addNumbers = function(num1, num2) {
  var result = num1 + num2;
  return result;
  result = result * 2; // silly! 笨蛋！
};
		</pre>
		
		<p class="objective">
			Functions with return values are quite useful for manipulating data in programs, and they can be combined together in expressions, too:<br>
			返回值函数用于程序处理数据是很有用的，它们可以被整合为如下表达式：
		</p>
		
		<pre class="prettyprint">
// biggerSum -&gt; 更大的总和
// addNumbers -&gt; 数值相加
		
var biggerSum = addNumbers(2, 5) + addNumbers(3, 2);
		</pre>
					
		<p class="objective">	
			You can even call functions inside function calls, although that can get hard to read at times:<br>
			你甚至可以在调用函数的内部再调用函数，虽然有时那会有点难以读取：
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 数值相加
// hugeSum -&gt; 大数值
		
var hugeSum = addNumbers(addNumbers(5, 2), addNumbers(3, 7));
		</pre>
		
		<p class="objective">
			Now that you know how to create functions that wrap around blocks of code, we have to bring up an important concept: <em>local variables</em> versus <em>global variables</em>.<br>
			现在，你们已经知道如何把代码块整合起来创建函数，在此，我们将提出一个重要的概念：<em>局部变量</em>与<em>全局变量</em>。
		</p>
				
		<p class="objective">		
			When we declare a new variable *inside* a function, we say that it is local to that function. That's because only that function can see that variable - the rest of the program outside of it cannot. Once we're outside that function, it's like it no longer exists. In the following function, localResult is a local variable:<br>
			当我们<em>在函数“内部”</em>声明一个新的变量时，它就是该函数的局部变量。因为只有该函数可见该变量——程序其余部分不可见。对其他函数而言，就像它不存在了一样。在如下函数中，局部结果即为一个局部变量：
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 数值相加
// localResult -&gt; 局部结果
// “The local result is: “ -&gt;  局部结果是
		
var addNumbers = function(num1, num2) {
  var localResult = num1 + num2;
  println("The local result is: " + localResult);
  return localResult;
};
addNumbers(5, 7);
println(localResult); // oh noes! 啊不要！
		</pre>
		
		<p class="objective">	
			When we run that code, we'll get an error on the final line: "localResult is not defined." The variable is only defined inside the function, because that's where we declared it with the var localResult = line, and is not defined outside of it.<br>
			当我们运行该代码时，在最后一行会出现错误：“局部结果未被定义。”该变量只在该函数内被定义了，因为我们是在函数内部声明var localResult =line的，却并未在外部定义它。
		</p>
		
		<p class="objective">	
			When we declare a variable outside our functions, we say that it is a global variable. That's because all functions can now access it and do whatever they want with it.<br>
			当我们在该函数外部声明变量时，它就变成全局变量了。因为现在所有函数都能访问它并对其进行操作了。
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 数值相加
// globalResult -&gt; 全局结果
// “The global result is: “ -&gt; 全局结果是：
		
var globalResult;

var addNumbers = function(num1, num2) {
  globalResult = num1 + num2;
  println("The global result is: " + globalResult);
};
addNumbers(5, 7);
println(globalResult);
		</pre>
		
		<p class="objective">	
			When we run the above code, we will not get an error, because we declared globalResult outside of the function, so we can access it wherever we want.<br>
			当我们运行以上代码时，就不会发生错误，因为我们在该函数外部声明了全局结果，所以我们可在任意位置访问它。
		</p>
		
		<p class="objective">	
			Every programming language is different, but for JavaScript, it's important to know that variables have "function scope" - a function can see the local variables that were declared inside of it and the global variables that were declared outside of it, but it cannot see the local variables inside other functions.<br>
			每种编程语言都不相同。但是，在使用JavaScript的时候，最重要的是要知道“变量”有一个“作用域”——该函数可看到在其内部声明的局部变量或者在其外部声明的全局变量，但是不能看到其他函数的局部变量。
		</p>

		<p><i class="fa fa-home fa-2x"></i><a href="../index_js.html"> Return to KhanZH Home Page </a></p>
	</body>
</html>