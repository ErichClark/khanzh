<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Review: Functions</title>
		<link type="text/css" rel="stylesheet" href="../../css/khanStyle.css">
		<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	</head>
	<body>
		<h1><i class="fa fa-file-text-o fa-3x"></i> 
			Review: Functions<br>
			回顾-函数
		</h1>
		
		<p class="objective"><em>
			This is a review of what we covered in this tutorial on functions.<br>
			現在我們將復習這個教學指導裡提及的函數內容。
		</em></p>
		
		<p class="objective">
			We often want to be able to re-execute blocks of code when we are writing programs, without having to re-write the block of code entirely. We need a way of grouping code together and giving it a name, so that we can call it by that name later, and that's what we call a function.<br>
			寫程式時，我們常常會想重複執行一段程式碼，但又不想把這段程式碼再打一遍。我們需要一個把程式碼集合成一組並為之命名的方法，之後要用到時用該名稱呼叫即可，而這個方法就稱為「函數」。
		</p>
		
		<p class="objective">
			To create a function, we must first declare it and give it a name, the same way we'd create any variable, and then we follow it by a function definition:<br>
			創造函數時，須先宣告該函數並命名，就像創造變數一樣。接著就寫下函數的定義：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; "說嗨"
		
	var sayHello = function() {

};
		</pre>
		
		<p class ="objective">
			We could put any code inside that function - one statement, multiple statements - depends what we want to do. In this function, we could just output a message at a random location:<br>
			我們可以把任何程式碼放在函數裡，單一陳述或是多個陳述均可，這完全取決於你函數的功能。在這個函數裡，我們可以在任意處輸出訊息：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 說嗨
// “Halllllllo” -&gt; 您好!
		
var sayHello = function() {
   text("Halllllllo!", random(200), random(200));
};
		</pre>

		<p class ="objective">
			Now, if all we do is declare the function, nothing will happen. In order for the program to execute the code that's inside the function, we actually have to "call" the function, by writing its name followed by empty parenthesis:<br>
			如果我們只是宣告函數，那什麼也不會發生。若要程式執行函數內的程式碼，就必須「呼叫」函數。呼叫方式為打上函數名稱，後面接一對括號。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 說嗨

sayHello();
		</pre>
		
		<p class="objective">
			And then we could call it whenever we wanted, as many times as we wanted!<br>
			接下來想要呼叫函數幾次都可以！
		</p>
				
		<pre class="prettyprint">
// sayHello -&gt; 說嗨

sayHello();
sayHello();
sayHello();
		</pre>
		
		<p class="objective">
			We often want to be able to customize functions, to tell the program "well, do all of this code, but change a few things about how you do it." That way we have code that is both reusable *and* flexible, the best of both worlds. We can achieve that by specifying "arguments" for a function, using those arguments to change how the function works, and passing them in when we call the function.<br>
			我們經常會想自訂函數，跟程式說：「請執行這些程式碼，可是麻煩改變一些地方」。我們想要既有重複使用性又有彈性的程式碼。要做到這點，就需要指定函數的「參數」，並在呼叫函數時傳入參數，用這些參數改變函數的功能。
		</p>
			
		<p class ="objective">
			For example, what if we wanted to be able to say exactly where we want the message displayed, just like we can say exactly where we want to draw rect()s and ellipse()s? We could imagine calling it like so, to put the message at two precise coordinates:<br>
			舉例來說，如果我想要指定訊息出現的位置，就像用 矩形() 和 橢圓形() 指定繪圖位置時一樣，該怎麼做呢？我們試想能否用同樣的方式呼叫它，從而把訊息放在精準的座標位置。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 說嗨
		
sayHello(50, 100);
sayHello(150, 200);
		</pre>
		
		<p class ="objective">
			To make that work, we need to change our sayHello() function definition so it knows that it will receive 2 arguments, and then uses them inside:<br>
			要實現這個功能，我們需要改變 說嗨() 函數的定義，讓函數知道它會接收到兩個參數，並在函數內使用這兩個參數。
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 說嗨
// “Halllllllo” -&gt; 您好！

var sayHello = function(xPos, yPos) {
   text("Halllllllo!", xPos, yPos);
};
		</pre>
		
		<p class="objective">	
			The arguments that get passed in basically become like variables inside your function definition, and the names depend on what you call them in the parentheses. We could just as easily rename them to something shorter:<br>
			參數傳入後，它在函數內基本上就像是變數一般，而名稱則依括號內所輸入的名稱而定。我們也可以把它們改為更短的名稱。
		</p>
		
		<pre class="prettyprint">		
// sayHello -&gt; 說嗨
// “Halllllllo” -&gt; 您好！
		
var sayHello = function(x, y) {
   text("Halllllllo!", x, y);
};
		</pre>
		
		<p class="objective">
			Our functions can accept any number of arguments - zero, one, two, or more. We could have also decided that we wanted to change our function to accept a name to say hello to:<br>
			我們的函數可以接受任意數目的參數，零個、一個、兩個或更多參數均可。我們也可以改變函數，讓它接收一個名字，然後打招呼：
		</p>
		
		<pre class="prettyprint">
// sayHello -&gt; 說嗨
// “Halllllllo” -&gt; 您好！
		
var sayHello = function(name) {
   text("Halllllllo, " + name, random(200), random(200));
};
		</pre>
		
		<p class="objective">
			And then we would have called it like so:<br>
			我們可以這樣呼叫：
		</p>
		
		<pre class="prettyprint">	
// 他們是 "Winston" 和 "Pamela"
		
sayHello("Winston");
sayHello("Pamela");
		</pre>
		
		<p class="objective">	
			We could combine those ideas, and have it accept three arguments, for the name and position:<br>
			我們可以綜合這些想法，讓函數接受名稱和位置共三個參數：
		</p>
		
		<pre class="prettyprint">	
// sayHello -&gt; 說嗨
// “Halllllllo” -&gt; 您好！
		
var sayHello = function(name, x, y) {
   text("Halllllllo " + name, x, y);
};
		</pre>
		
		<p class="objective">	
			And then call it like so:<br>
			然後這樣呼叫：
		</p>
		
		<pre class="prettyprint">	
// sayHello -&gt; 說嗨
		
sayHello("Winston", 10, 100);
		</pre>
		
		<p class="objective">
			It really depends on what you want your functions to do, and how much you want to customize what they can do. You can always start off with no arguments, and then add more as you realize you need them.<br>
			重點在於你想讓函數有什麼功能，以及你想自訂函數到什麼程度。當然，你一開始可以不訂下任何參數，之後需要時再訂。
		</p>
				
		<p class="objective">
			Now, you've actually been calling functions this whole time- that's how you've been making drawing and animations - like with rect(), ellipse(), triangle(), etc. All of those functions are ones that come from the ProcessingJS library, and we load them into every program that you make here, so that you can always use them. We've defined the functions for you, because we thought they'd be useful, and now it's up to you to decide what custom functions you want to use in your own programs. For example, we provide the ellipse function, but we don't provide a cat function - if your program involves a lot of different cats in different locations, maybe you should create your own cat function!<br>
			其實你一直都在呼叫函數，用 矩形() 橢圓形() 三角形() 畫圖和製作動畫就是在呼叫函數。這些函數來自JS處理程式庫，我們會把在這裏寫的每個程式都載入程式庫，那樣你就可以隨時使用。我們定義了一些我們認為有用的函數，現在你也可以定義自己的函數。舉例來說，我們有畫橢圓的函數，可是沒有畫貓咪的函數。如果你的程式要讓很多貓咪出現在不同位置，那也許你該創造自己的貓咪函數！
		</p>
				
		<p class="objective">
			There's another powerful thing we can do with functions - we can use them to take in some values, compute them, and return a new value. Think about all the things you can do with a calculator - add values, subtract, calculate square root, multiply, etc. All of those would be done with functions that took in the input and outputted the result. The functions would take in the input as arguments and output the result using a return statement. Here's a function that adds two numbers and returns the result:<br>
			函數還有一個強大的功能：我們可以把數值傳入，讓函數在內部計算並輸出新的值。想想一台計算機能幹嘛？可以加、減、乘、除、開根號等等。這些都可以在函數內計算，讓函數輸出結果。函數以參數形式取得輸入值，以回覆敘述形式輸出。來看看這個函數，它能把兩個數字相加並回傳結果：
		</p>
		
		<pre class="prettyprint">	
// addNumbers -&gt; 數字相加
		
var addNumbers = function(num1, num2) {
  var result = num1 + num2;
  return result;
};

var sum = addNumbers(5, 2);
text(sum, 200, 200); // Displays "7" 顯示一個「7」
		</pre>
		
		<p class="objective">
			The <em>return statement</em> does two things: it gives a value back to whoever called it (which is why we could store it in the sum variable), and it immediately exits the function. That means it'd be silly if we had something like this, because that last line would never get executed:<br>
			回覆敘述會做兩件事：把值回傳給呼叫它的程式碼（這也就是為什麼我們要把它存入總和變數），接著馬上結束函數。所以這樣做有點傻，因為最後一行程式碼永遠不會被執行。
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 數字相加		
		
var addNumbers = function(num1, num2) {
  var result = num1 + num2;
  return result;
  result = result * 2; // silly! 好傻！
};
		</pre>
		
		<p class="objective">
			Functions with return values are quite useful for manipulating data in programs, and they can be combined together in expressions, too:<br>
			能回傳值的函數很適合拿來處理程式裡的資料，也可以和表示式合併使用。
		</p>
		
		<pre class="prettyprint">
// biggerSum -&gt; 更大的总和
// addNumbers -&gt; 數字相加
		
var biggerSum = addNumbers(2, 5) + addNumbers(3, 2);
		</pre>
					
		<p class="objective">	
			You can even call functions inside function calls, although that can get hard to read at times:<br>
			你甚至可以在函數呼叫裡呼叫其他函數，但這樣會較難以閱讀。
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 數字相加
// hugeSum -&gt; 大總和
		
var hugeSum = addNumbers(addNumbers(5, 2), addNumbers(3, 7));
		</pre>
		
		<p class="objective">
			Now that you know how to create functions that wrap around blocks of code, we have to bring up an important concept: <em>local variables</em> versus <em>global variables</em>.<br>
			學會怎麼把一段程式碼包裝成函數後，我們來討論一個重要的概念：局部變數和總體變數。
		</p>
				
		<p class="objective">		
			When we declare a new variable *inside* a function, we say that it is local to that function. That's because only that function can see that variable - the rest of the program outside of it cannot. Once we're outside that function, it's like it no longer exists. In the following function, localResult is a local variable:<br>
			我們在函數內宣告新的變數時，我們稱它為局部變數，因為只有該函數才能看見這個變數，函數外的程式都無法讀取這個變數。在函數之外，這個變數像是消失了一樣。在下面這個函數裡，局部結果 "局部結果" 就是一個局部函數。
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 數字相加
// localResult -&gt; 局部結果
// “The local result is: “ -&gt;  局部結果是：
		
var addNumbers = function(num1, num2) {
  var localResult = num1 + num2;
  println("The local result is: " + localResult);
  return localResult;
};
addNumbers(5, 7);
println(localResult); // oh noes! 噢不！
		</pre>
		
		<p class="objective">	
			When we run that code, we'll get an error on the final line: "localResult is not defined." The variable is only defined inside the function, because that's where we declared it with the "var localResult = " line, and is not defined outside of it.<br>
			程式執行到最後一行時，出現了錯誤訊息：「局部結果未定義」。因為這個變數只在函數內定義， 就是我們隻在 "var 局部結果 = " 行這一行宣告了該變數，因此在函數外它是沒有定義的。
		</p>
		
		<p class="objective">	
			When we declare a variable outside our functions, we say that it is a global variable. That's because all functions can now access it and do whatever they want with it.<br>
			在函數外宣告變數時，我們稱之為總體變數，所以的函數都可以隨意使用該變數。
		</p>
		
		<pre class="prettyprint">
// addNumbers -&gt; 數字相加
// globalResult -&gt; 總體結果
// “The global result is: “ -&gt; 總體結果是：
		
var globalResult;

var addNumbers = function(num1, num2) {
  globalResult = num1 + num2;
  println("The global result is: " + globalResult);
};
addNumbers(5, 7);
println(globalResult);
		</pre>
		
		<p class="objective">	
			When we run the above code, we will not get an error, because we declared globalResult outside of the function, so we can access it wherever we want.<br>
			現在執行上述程式時，不會再有錯誤訊息，因為我們在函數外定義了總體結果 總體結果，所以可以隨時順利存取該變數。
		</p>
		
		<p class="objective">	
			Every programming language is different, but for JavaScript, it's important to know that variables have "function scope" - a function can see the local variables that were declared inside of it and the global variables that were declared outside of it, but it cannot see the local variables inside other functions.<br>
			每種程式語言都不一樣，但以 Javascript程式語言 來說，很重要的一個觀念是——變數有各自的作用域。函數可以看見自己內部定義的局部變數，也可以看見函數外定義的總體變數，但看不見其他函數內部的局部變數。
		</p>

		<p><i class="fa fa-home fa-2x"></i><a href="../index_js.html"> Return to KhanZH Home Page </a></p>
	</body>
</html>